(function(t){function e(e){for(var a,i,s=e[0],o=e[1],u=e[2],p=0,h=[];p<s.length;p++)i=s[p],Object.prototype.hasOwnProperty.call(c,i)&&c[i]&&h.push(c[i][0]),c[i]=0;for(a in o)Object.prototype.hasOwnProperty.call(o,a)&&(t[a]=o[a]);l&&l(e);while(h.length)h.shift()();return n.push.apply(n,u||[]),r()}function r(){for(var t,e=0;e<n.length;e++){for(var r=n[e],a=!0,s=1;s<r.length;s++){var o=r[s];0!==c[o]&&(a=!1)}a&&(n.splice(e--,1),t=i(i.s=r[0]))}return t}var a={},c={app:0},n=[];function i(e){if(a[e])return a[e].exports;var r=a[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=t,i.c=a,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(r,a,function(e){return t[e]}.bind(null,a));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/vue-music-player/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],o=s.push.bind(s);s.push=e,s=s.slice();for(var u=0;u<s.length;u++)e(s[u]);var l=o;n.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("cd49")},"0899":function(t,e,r){"use strict";var a=r("edb5"),c=r.n(a);c.a},"2ffd":function(t,e,r){"use strict";var a=r("b629"),c=r.n(a);c.a},"5c0a":function(t,e,r){},"7faf":function(t,e,r){"use strict";var a=r("b8ff"),c=r.n(a);c.a},"98af":function(t,e,r){"use strict";var a=r("bbb8"),c=r.n(a);c.a},9922:function(t,e,r){},ab53:function(t,e,r){},b0a3:function(t,e,r){"use strict";var a=r("bdf7"),c=r.n(a);c.a},b508:function(t,e,r){"use strict";var a=r("ab53"),c=r.n(a);c.a},b629:function(t,e,r){},b7ab:function(t,e,r){"use strict";var a=r("9922"),c=r.n(a);c.a},b8ff:function(t,e,r){},bbb8:function(t,e,r){},bdf7:function(t,e,r){},cd49:function(t,e,r){"use strict";r.r(e);r("e260"),r("e6cf"),r("cca6"),r("a79d");var a,c=r("2b0e"),n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container"},[r("div",{staticClass:"wrapper"},[r("div",{staticClass:"tracks-view row center-xs"},[r("div",{staticClass:"track-info col-md-4 col-xs-10 col-sm-6 col-lg-3",style:{height:t.heightElement}},[r("Cover")],1),r("div",{staticClass:"track-list col-md-8 col-xs-12 col-sm-10 col-lg-7"},[r("Input",{attrs:{placeholder:"Type your search and press enter",isLoading:t.isFetchingTracks,onKeyPress:t.onKeyPress},model:{value:t.searchWord,callback:function(e){t.searchWord=e},expression:"searchWord"}}),r("TrackList")],1)])]),r("Player"),t._m(0)],1)},i=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("a",{staticClass:"github",attrs:{href:"https://github.com/danlgz/vue-music-player",target:"_blank"}},[r("i",{staticClass:"fab fa-github"})])}],s=r("d4ec"),o=r("bee2"),u=r("262e"),l=r("2caf"),p=r("9ab4"),h=r("60a3"),b=r("4bb5"),d=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"player",class:{"is-playing":t.showPlayer}},[r("div",{staticClass:"content"},[r("div",{staticClass:"progress-container"},[r("input",{directives:[{name:"model",rawName:"v-model.lazy",value:t.progressSong,expression:"progressSong",modifiers:{lazy:!0}}],staticClass:"time-line",attrs:{type:"range",min:"0",max:"100",step:"0.1"},domProps:{value:t.progressSong},on:{change:[function(e){t.progressSong=e.target.value},t.updateTrackTimeline]}}),r("div",{staticClass:"progress"}),r("div",{staticClass:"background",style:{width:t.calcProgressBackground}})]),r("div",{staticClass:"body"},[r("div",{staticClass:"info"},[r("div",{staticClass:"cover-mini",style:t.coverStyles},[t.coverStyles?t._e():r("i",{staticClass:"fa fa-music"})]),r("div",{staticClass:"properties"},[r("div",{staticClass:"name",attrs:{title:t.currentTrack?t.currentTrack.trackName:""}},[t._v(" "+t._s(t.currentTrack?t.currentTrack.trackName:"")+" ")]),r("div",{staticClass:"time"},[t._v(" "+t._s(t.currentPrettyTime)+" / "+t._s(t.fullPrettyTime)+" ")])])]),r("div",{staticClass:"controls"},[t._v(" controls ")]),r("div")])])])},v=[];r("99af"),r("b680"),r("d3b7"),r("3ca3"),r("ddb0"),r("2b3d");(function(t){t[t["INACTIVE"]=0]="INACTIVE",t[t["WAITING"]=1]="WAITING",t[t["PLAYING"]=2]="PLAYING",t[t["PAUSED"]=3]="PAUSED",t[t["NEXT"]=4]="NEXT",t[t["PREVIOUS"]=5]="PREVIOUS"})(a||(a={}));var f=r("2ef0"),k=Object(b["a"])("Tracks"),m=function(t){Object(u["a"])(r,t);var e=Object(l["a"])(r);function r(){var t;return Object(s["a"])(this,r),t=e.apply(this,arguments),t.progressSong=0,t.sound=null,t.currentPrettyTime="",t.fullPrettyTime="",t.coverStyles=null,t.canSetProgressSongValue=!0,t}return Object(o["a"])(r,[{key:"updateTrackTimeline",value:function(t){var e=this;this.sound&&(this.changeStatus(a.PAUSED),this.canSetProgressSongValue=!1,setTimeout((function(){e.sound&&(console.log("set time!!!"),e.sound.currentTime=e.sound.duration*e.progressSong/100,e.changeStatus(a.PLAYING),e.canSetProgressSongValue=!0)}),1e3))}},{key:"prettyTime",value:function(t){if(!t)return"00:00";var e=Math.floor(t/60),r=(t%60).toFixed(0);return"".concat(e<10?"0":"").concat(e,":").concat(parseInt(r)<10?"0":"").concat(r)}},{key:"onCurrentTrankChange",value:function(){var t=this;null!==this.currentTrack&&(this.progressSong=0,this.sound=new Audio(this.currentTrack.url),this.sound.oncanplaythrough=function(){t.sound&&t.currentStatus!==a.PAUSED&&(t.changeStatus(a.PLAYING),t.updateLiveFullTime(t.sound.duration))},this.sound.onloadstart=function(){t.changeStatus(a.WAITING)},this.sound.onwaiting=function(){t.changeStatus(a.WAITING)},this.sound.onended=function(){t.updateLiveCurrentTime(0),t.changeStatus(a.PAUSED),t.selectTrack(t.nextTrackId)},this.sound.ontimeupdate=Object(f["throttle"])((function(){t.sound&&t.updateLiveCurrentTime(t.sound.currentTime)}),250))}},{key:"onLiveCurrentTimeChange",value:function(t){this.sound&&this.canSetProgressSongValue&&(this.progressSong=t/this.sound.duration*100,this.currentPrettyTime=this.prettyTime(t))}},{key:"onPictureChange",value:function(t){this.coverStyles=t?{backgroundImage:"url(".concat(URL.createObjectURL(t),")"),backgroundRepeat:"no-repeat",backgroundSize:"100%"}:null}},{key:"onLiveFullTimeChange",value:function(t){this.fullPrettyTime=this.prettyTime(t)}},{key:"onStatusChange",value:function(t){if(null!==this.sound)switch(t){case a.PAUSED:this.sound.pause();break;case a.PLAYING:this.sound.play();break;case a.INACTIVE:this.selectTrack(0);break}}},{key:"calcProgressBackground",get:function(){return"".concat(100-this.progressSong,"%")}},{key:"showPlayer",get:function(){return this.currentStatus!==a.INACTIVE}}]),r}(h["c"]);Object(p["a"])([k.Getter],m.prototype,"currentTrack",void 0),Object(p["a"])([k.Getter],m.prototype,"currentStatus",void 0),Object(p["a"])([k.Getter],m.prototype,"nextTrackId",void 0),Object(p["a"])([k.Action],m.prototype,"changeStatus",void 0),Object(p["a"])([k.Action],m.prototype,"selectTrack",void 0),Object(p["a"])([k.Action],m.prototype,"updateLiveFullTime",void 0),Object(p["a"])([k.Action],m.prototype,"updateLiveCurrentTime",void 0),Object(p["a"])([Object(h["d"])("currentTrack.url")],m.prototype,"onCurrentTrankChange",null),Object(p["a"])([Object(h["d"])("currentTrack.liveCurrentTime")],m.prototype,"onLiveCurrentTimeChange",null),Object(p["a"])([Object(h["d"])("currentTrack.minPictureBlob")],m.prototype,"onPictureChange",null),Object(p["a"])([Object(h["d"])("currentTrack.liveFullTime")],m.prototype,"onLiveFullTimeChange",null),Object(p["a"])([Object(h["d"])("currentStatus")],m.prototype,"onStatusChange",null),m=Object(p["a"])([Object(h["a"])({})],m);var y=m,O=y,g=(r("2ffd"),r("2877")),j=Object(g["a"])(O,d,v,!1,null,"4ebae3f2",null),T=j.exports,C=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.trackList.length?r("div",{staticClass:"list",attrs:{id:"list-track"}},t._l(t.trackList,(function(e,a){return r("TrackElement",{key:e.id,attrs:{name:e.trackName,album:e.album,time:e.time,artist:e.artist,isFirst:0==a,isLast:a==t.trackList.length-1}})})),1):r("div",{staticClass:"placeholder"},[r("svg",{attrs:{id:"Capa_1","enable-background":"new 0 0 512 512",height:"512",viewBox:"0 0 512 512",width:"512",xmlns:"http://www.w3.org/2000/svg"}},[r("g",[r("path",{attrs:{d:"m274.081 262.617v-248.088l-196.394 50.65v192.092c-7.192-3.568-15.285-5.585-23.843-5.585-29.69 0-53.844 24.154-53.844 53.844s24.154 53.844 53.844 53.844 53.843-24.154 53.843-53.844v-146.633l136.394-35.176v90.637c-7.193-3.568-15.285-5.585-23.844-5.585-29.689 0-53.844 24.154-53.844 53.844s24.154 53.844 53.844 53.844 53.844-24.155 53.844-53.844zm-220.237 66.756c-13.148 0-23.844-10.696-23.844-23.843s10.696-23.843 23.844-23.843c13.147 0 23.843 10.696 23.843 23.843s-10.696 23.843-23.843 23.843zm53.843-240.949 136.394-35.176v39.492l-136.394 35.176zm112.55 198.037c-13.147 0-23.844-10.696-23.844-23.844s10.696-23.844 23.844-23.844 23.844 10.696 23.844 23.844-10.696 23.844-23.844 23.844z"}}),r("path",{attrs:{d:"m378.478 203.277v192.092c-7.193-3.568-15.285-5.585-23.844-5.585-29.689 0-53.843 24.154-53.843 53.843s24.154 53.844 53.843 53.844 53.844-24.154 53.844-53.844v-146.633l103.522-26.697v-101.455zm-23.844 264.194c-13.147 0-23.843-10.696-23.843-23.844 0-13.147 10.696-23.843 23.843-23.843s23.844 10.696 23.844 23.843c0 13.148-10.696 23.844-23.844 23.844zm127.366-220.419-73.522 18.961v-39.491l73.522-18.962z"}}),r("path",{attrs:{d:"m438.704 91.528h30v-12.898h12.899v-30h-12.899v-12.899h-30v12.899h-12.899v30h12.899z"}}),r("path",{attrs:{d:"m95.039 438.269h-30v12.898h-12.898v30h12.898v12.899h30v-12.899h12.898v-30h-12.898z"}}),r("path",{attrs:{d:"m467.924 428.627h30v30h-30z"}}),r("path",{attrs:{d:"m181.394 404.67h30v30h-30z"}}),r("path",{attrs:{d:"m253.292 349.5h30v30h-30z"}}),r("path",{attrs:{d:"m319.717 65.103h30v30h-30z"}}),r("path",{attrs:{d:"m378.478 123.026h30v30h-30z"}}),r("path",{attrs:{d:"m15 26.488h30v30h-30z"}})])]),r("p",[t._v("Vue Music Player")])])},S=[],P=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"track",class:{first:t.isFirst,last:t.isLast},on:{click:function(e){return t.trackControl()}}},[r("div",{staticClass:"identity"},[r("Button",{attrs:{isHovered:t.currentTrack&&t.currentTrack.id===t.id,isLoading:t.buttonIsLoading},nativeOn:{mouseover:function(e){t.hoverPlay=!0},mouseleave:function(e){t.hoverPlay=!1}}},[t.pauseValidator?[r("i",{staticClass:"fa fa-pause"})]:[t.playValidator?r("i",{staticClass:"fa fa-play"}):r("i",{staticClass:"fa fa-music"})]],2),r("div",{staticClass:"title"},[r("div",{staticClass:"name"},[t._v(t._s(t.name))]),t.album&&t.artist?r("div",{staticClass:"album"},[t._v(t._s(t.artist)+" | "+t._s(t.album))]):t.artist?r("div",{staticClass:"album"},[t._v(t._s(t.artist))]):t._e()])],1)])},I=[],L=(r("a9e3"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("button",{class:{hovered:t.isHovered}},[t.isLoading?r("Loader",{attrs:{color:"#ad86e2",size:"55px",extraClass:"loader"}}):t._e(),t._t("default")],2)}),_=[],x=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("svg",{class:t.extraClass,attrs:{xmlns:"http://www.w3.org/2000/svg",width:t.size,height:t.size,viewBox:"-2 0 43 40",stroke:t.color}},[r("g",{attrs:{fill:"none","fill-rule":"evenodd"}},[r("g",{attrs:{transform:"translate(1 1)","stroke-width":t.strong?"4":"2"}},[r("circle",{attrs:{"stroke-opacity":".5",cx:"18",cy:"18",r:"18"}}),r("path",{attrs:{d:"M36 18c0-9.94-8.06-18-18-18",transform:"rotate(132.608 18 18)"}},[r("animateTransform",{attrs:{attributeName:"transform",type:"rotate",from:"0 18 18",to:"360 18 18",dur:"1s",repeatCount:"indefinite"}})],1)])])])},w=[],A=function(t){Object(u["a"])(r,t);var e=Object(l["a"])(r);function r(){return Object(s["a"])(this,r),e.apply(this,arguments)}return r}(h["c"]);Object(p["a"])([Object(h["b"])(String)],A.prototype,"color",void 0),Object(p["a"])([Object(h["b"])(String)],A.prototype,"size",void 0),Object(p["a"])([Object(h["b"])({default:""})],A.prototype,"extraClass",void 0),Object(p["a"])([Object(h["b"])(Boolean)],A.prototype,"strong",void 0),A=Object(p["a"])([Object(h["a"])({})],A);var N=A,E=N,B=(r("0899"),Object(g["a"])(E,x,w,!1,null,"27e721b6",null)),F=B.exports,z=function(t){Object(u["a"])(r,t);var e=Object(l["a"])(r);function r(){return Object(s["a"])(this,r),e.apply(this,arguments)}return r}(h["c"]);Object(p["a"])([Object(h["b"])(Boolean)],z.prototype,"isHovered",void 0),Object(p["a"])([Object(h["b"])(Boolean)],z.prototype,"isLoading",void 0),z=Object(p["a"])([Object(h["a"])({components:{Loader:F}})],z);var G=z,U=G,V=(r("b7ab"),Object(g["a"])(U,L,_,!1,null,"f48ac52e",null)),M=V.exports,R=Object(b["a"])("Tracks"),W=function(t){Object(u["a"])(r,t);var e=Object(l["a"])(r);function r(){var t;return Object(s["a"])(this,r),t=e.apply(this,arguments),t.hoverPlay=!1,t}return Object(o["a"])(r,[{key:"trackControl",value:function(){var t=this;this.currentTrack&&this.currentTrack.id===this.id?this.changeStatus(this.currentStatus===a.PLAYING?a.PAUSED:a.PLAYING):(this.changeStatus(a.PAUSED),this.updateLiveCurrentTime(0),setTimeout((function(){return t.selectTrack(t.id)})))}},{key:"buttonIsLoading",get:function(){return this.currentTrack&&this.currentTrack.id===this.id&&this.currentStatus===a.WAITING}},{key:"pauseValidator",get:function(){return this.currentTrack&&this.currentTrack.id===this.id&&(this.currentStatus===a.PLAYING||this.currentStatus===a.WAITING)}},{key:"playValidator",get:function(){return this.hoverPlay||this.currentTrack&&this.currentTrack.id===this.id&&this.currentStatus===a.PAUSED}},{key:"id",get:function(){return this.$vnode.key}}]),r}(h["c"]);Object(p["a"])([Object(h["b"])(String)],W.prototype,"name",void 0),Object(p["a"])([Object(h["b"])(String)],W.prototype,"album",void 0),Object(p["a"])([Object(h["b"])(String)],W.prototype,"artist",void 0),Object(p["a"])([Object(h["b"])(Number)],W.prototype,"time",void 0),Object(p["a"])([Object(h["b"])(Boolean)],W.prototype,"isFirst",void 0),Object(p["a"])([Object(h["b"])(Boolean)],W.prototype,"isLast",void 0),Object(p["a"])([R.Action],W.prototype,"selectTrack",void 0),Object(p["a"])([R.Action],W.prototype,"changeStatus",void 0),Object(p["a"])([R.Action],W.prototype,"updateLiveCurrentTime",void 0),Object(p["a"])([R.Getter],W.prototype,"currentTrack",void 0),Object(p["a"])([R.Getter],W.prototype,"currentStatus",void 0),W=Object(p["a"])([Object(h["a"])({components:{Button:M}})],W);var $=W,D=$,Y=(r("b0a3"),Object(g["a"])(D,P,I,!1,null,"7d0f09e2",null)),K=Y.exports,H=Object(b["a"])("Tracks"),J=function(t){Object(u["a"])(r,t);var e=Object(l["a"])(r);function r(){return Object(s["a"])(this,r),e.apply(this,arguments)}return r}(h["c"]);Object(p["a"])([H.Getter],J.prototype,"trackList",void 0),J=Object(p["a"])([Object(h["a"])({components:{TrackElement:K}})],J);var X=J,q=X,Q=(r("dad1"),Object(g["a"])(q,C,S,!1,null,"2a25c9e0",null)),Z=Q.exports,tt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"cover"},[r("div",{staticClass:"cover-image",style:t.coverUrl},[t.coverUrl?t._e():r("i",{staticClass:"fa fa-music"})]),t.currentTrack?r("div",{staticClass:"name"},[t._v(t._s(t.currentTrack.trackName))]):t._e(),t.currentTrack&&t.currentTrack.artistName&&t.currentTrack.album?r("div",{staticClass:"artist-and-album"},[t._v(" "+t._s(t.currentTrack.artistName)+" | "+t._s(t.currentTrack.album)+" ")]):t.currentTrack&&t.currentTrack.artistName?r("div",{staticClass:"artist-and-album"},[t._v(t._s(t.currentTrack.artistName))]):t._e()])},et=[],rt=Object(b["a"])("Tracks"),at=function(t){Object(u["a"])(r,t);var e=Object(l["a"])(r);function r(){var t;return Object(s["a"])(this,r),t=e.apply(this,arguments),t.lastTrackId=0,t.isLoading=!0,t}return Object(o["a"])(r,[{key:"buildStyleObject",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{backgroundImage:"url(".concat(URL.createObjectURL(t),")"),backgroundRepeat:"no-repeat",backgroundSize:"100%",filter:e?"blur(3px)":"none"}}},{key:"coverUrl",get:function(){return this.currentTrack?this.currentTrack.pictureBlob?this.buildStyleObject(this.currentTrack.pictureBlob):this.currentTrack.minPictureBlob?this.buildStyleObject(this.currentTrack.minPictureBlob,!0):(this.fetchMinPictureBlob(this.currentTrack.id),this.fetchPictureBlob(this.currentTrack.id),null):null}}]),r}(h["c"]);Object(p["a"])([rt.Getter],at.prototype,"currentTrack",void 0),Object(p["a"])([rt.Action],at.prototype,"fetchPictureBlob",void 0),Object(p["a"])([rt.Action],at.prototype,"fetchMinPictureBlob",void 0),at=Object(p["a"])([Object(h["a"])({components:{Loader:F}})],at);var ct=at,nt=ct,it=(r("98af"),Object(g["a"])(nt,tt,et,!1,null,null,null)),st=it.exports,ot=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"input-wrapper",class:{"input-focused":t.focused}},[t.isLoading?r("Loader",{attrs:{size:"17px",extraClass:"loader",color:t.colorLoadingIcon,strong:!0}}):r("i",{staticClass:"fa fa-search"}),r("input",{attrs:{type:"search",placeholder:t.placeholder},domProps:{value:t.value},on:{focus:function(e){t.focused=!0},blur:function(e){t.focused=!1},keypress:t.onKeyPress,input:function(e){return t.$emit("input",e.target.value)}}})],1)},ut=[],lt=function(t){Object(u["a"])(r,t);var e=Object(l["a"])(r);function r(){var t;return Object(s["a"])(this,r),t=e.apply(this,arguments),t.focused=!1,t}return Object(o["a"])(r,[{key:"colorLoadingIcon",get:function(){return this.focused?"#ad86e2":"#C0C0C0"}}]),r}(h["c"]);Object(p["a"])([Object(h["b"])({default:""})],lt.prototype,"placeholder",void 0),Object(p["a"])([Object(h["b"])({default:""})],lt.prototype,"value",void 0),Object(p["a"])([Object(h["b"])(Boolean)],lt.prototype,"isLoading",void 0),Object(p["a"])([Object(h["b"])({default:function(t){return t}})],lt.prototype,"onKeyPress",void 0),lt=Object(p["a"])([Object(h["a"])({components:{Loader:F}})],lt);var pt=lt,ht=pt,bt=(r("b508"),Object(g["a"])(ht,ot,ut,!1,null,"0807ee04",null)),dt=bt.exports,vt=Object(b["a"])("Tracks"),ft=function(t){Object(u["a"])(r,t);var e=Object(l["a"])(r);function r(){var t;return Object(s["a"])(this,r),t=e.apply(this,arguments),t.searchWord="",t}return Object(o["a"])(r,[{key:"onKeyPress",value:function(t){var e=this;"Enter"===t.key&&this.searchWord&&(this.changeStatus(a.PAUSED),this.fetchTracks(this.searchWord),setTimeout((function(){return e.changeStatus(a.INACTIVE)})))}},{key:"heightElement",get:function(){return this.getTracksLength<6?"auto":"".concat(95*this.getTracksLength,"px")}}]),r}(h["c"]);Object(p["a"])([vt.Getter],ft.prototype,"getTracksLength",void 0),Object(p["a"])([vt.Getter],ft.prototype,"isFetchingTracks",void 0),Object(p["a"])([vt.Action],ft.prototype,"fetchTracks",void 0),Object(p["a"])([vt.Action],ft.prototype,"changeStatus",void 0),Object(p["a"])([vt.Action],ft.prototype,"selectTrack",void 0),ft=Object(p["a"])([Object(h["a"])({components:{Player:T,TrackList:Z,Cover:st,Input:dt}})],ft);var kt=ft,mt=kt,yt=(r("7faf"),Object(g["a"])(mt,n,i,!1,null,null,null)),Ot=yt.exports,gt=r("2f62"),jt=(r("c740"),r("4160"),r("b64b"),r("07ac"),r("ac1f"),r("5319"),r("159b"),r("96cf"),r("1da1")),Tt=r("5530"),Ct=r("6fc5"),St=function(t){Object(u["a"])(r,t);var e=Object(l["a"])(r);function r(){var t;return Object(s["a"])(this,r),t=e.apply(this,arguments),t.tracks={},t.currentTrackId=0,t.isFetching=!1,t.status=a.INACTIVE,t}return Object(o["a"])(r,[{key:"setTracks",value:function(t){this.tracks=t}},{key:"setLiveFullTime",value:function(t){this.currentTrackId in this.tracks&&(this.tracks[this.currentTrackId].liveFullTime=t)}},{key:"setLiveCurrentTime",value:function(t){this.currentTrackId in this.tracks&&(this.tracks[this.currentTrackId].liveCurrentTime=t)}},{key:"setStatus",value:function(t){this.status=t}},{key:"setCurrentTrackId",value:function(t){this.currentTrackId in this.tracks&&(this.tracks[this.currentTrackId].liveCurrentTime=0,this.tracks[this.currentTrackId].liveFullTime=0),this.currentTrackId=t||0}},{key:"setPictureBlob",value:function(t){var e=this.tracks[t.trackId];e.pictureBlob=t.picture,this.tracks[t.trackId]=Object(Tt["a"])({},e)}},{key:"setMinPictureBlob",value:function(t){var e=this.tracks[t.trackId];e.minPictureBlob=t.picture,this.tracks[t.trackId]=Object(Tt["a"])({},e)}},{key:"setIsFetching",value:function(t){this.isFetching=t}},{key:"fetchTracks",value:function(){var t=Object(jt["a"])(regeneratorRuntime.mark((function t(e){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.context.commit("setIsFetching",!0),r={},t.next=4,fetch("https://itunes.apple.com/search?term=".concat(e,"&media=music")).then((function(t){return t.json()}));case 4:return a=t.sent,this.context.commit("setIsFetching",!1),a.results.forEach((function(t){var e=t.artworkUrl100.replace("100x100bb","1200x1200bb"),a=t.artworkUrl100.replace("100x100bb","55x55bb"),c={id:t.trackId,artistName:t.artistName,trackName:t.trackName,url:t.previewUrl,album:t.collectionName,time:t.trackTimeMillis,artist:t.artistName,picture:e,minPicture:a,liveCurrentTime:0,liveFullTime:0};r[c.id]=c})),t.abrupt("return",r);case 8:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"selectTrack",value:function(t){return t in this.tracks?t:null}},{key:"fetchPictureBlob",value:function(){var t=Object(jt["a"])(regeneratorRuntime.mark((function t(e){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e in this.tracks){t.next=2;break}return t.abrupt("return",null);case 2:return t.next=4,fetch(this.tracks[e].picture).then((function(t){return t.blob()}));case 4:return r=t.sent,t.abrupt("return",{picture:r,trackId:e});case 6:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"fetchMinPictureBlob",value:function(){var t=Object(jt["a"])(regeneratorRuntime.mark((function t(e){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e in this.tracks){t.next=2;break}return t.abrupt("return",null);case 2:return t.next=4,fetch(this.tracks[e].minPicture).then((function(t){return t.blob()}));case 4:return r=t.sent,t.abrupt("return",{picture:r,trackId:e});case 6:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"changeStatus",value:function(t){return t}},{key:"updateLiveCurrentTime",value:function(t){return t}},{key:"updateLiveFullTime",value:function(t){return t}},{key:"trackList",get:function(){return Object.values(this.tracks).sort((function(t){return t.id}))}},{key:"currentTrack",get:function(){return this.currentTrackId in this.tracks?this.tracks[this.currentTrackId]:null}},{key:"isFetchingTracks",get:function(){return this.isFetching}},{key:"nextTrackId",get:function(){if(!this.trackList.length)return 0;var t=this.currentTrack?this.currentTrack.id:0,e=0!==t?this.trackList.findIndex((function(e){return e.id===t})):0;return e===this.trackList.length-1?this.trackList[0].id:this.trackList[e+1].id}},{key:"getTracksLength",get:function(){return Object.keys(this.tracks).length}},{key:"currentStatus",get:function(){return this.status}}]),r}(Ct["d"]);Object(p["a"])([Ct["c"]],St.prototype,"setTracks",null),Object(p["a"])([Ct["c"]],St.prototype,"setLiveFullTime",null),Object(p["a"])([Ct["c"]],St.prototype,"setLiveCurrentTime",null),Object(p["a"])([Ct["c"]],St.prototype,"setStatus",null),Object(p["a"])([Ct["c"]],St.prototype,"setCurrentTrackId",null),Object(p["a"])([Ct["c"]],St.prototype,"setPictureBlob",null),Object(p["a"])([Ct["c"]],St.prototype,"setMinPictureBlob",null),Object(p["a"])([Ct["c"]],St.prototype,"setIsFetching",null),Object(p["a"])([Object(Ct["a"])({commit:"setTracks"})],St.prototype,"fetchTracks",null),Object(p["a"])([Object(Ct["a"])({commit:"setCurrentTrackId"})],St.prototype,"selectTrack",null),Object(p["a"])([Object(Ct["a"])({commit:"setPictureBlob"})],St.prototype,"fetchPictureBlob",null),Object(p["a"])([Object(Ct["a"])({commit:"setMinPictureBlob"})],St.prototype,"fetchMinPictureBlob",null),Object(p["a"])([Object(Ct["a"])({commit:"setStatus"})],St.prototype,"changeStatus",null),Object(p["a"])([Object(Ct["a"])({commit:"setLiveCurrentTime"})],St.prototype,"updateLiveCurrentTime",null),Object(p["a"])([Object(Ct["a"])({commit:"setLiveFullTime"})],St.prototype,"updateLiveFullTime",null),St=Object(p["a"])([Object(Ct["b"])({namespaced:!0})],St);var Pt=St;c["a"].use(gt["a"]);var It=new gt["a"].Store({state:{},mutations:{},actions:{},modules:{Tracks:Pt}});c["a"].config.productionTip=!1,new c["a"]({store:It,render:function(t){return t(Ot)}}).$mount("#app")},dad1:function(t,e,r){"use strict";var a=r("5c0a"),c=r.n(a);c.a},edb5:function(t,e,r){}});
//# sourceMappingURL=app.090e3bb0.js.map